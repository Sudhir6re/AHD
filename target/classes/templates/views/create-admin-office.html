<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title th:utext="#{msg.thymeleaf.pageheading.createadminoffice}"></title>
<style type="text/css">
</style>
</head>
<body class="create-admin-office">
	<div th:replace="header/menuHeader :: var-script-header"></div>
	<div th:replace="header/menuHeader :: varmenuheader"></div>
	<div class="container min-height-600">
		<div class="breadcrumbMain">
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb">
					<!--   <li class="breadcrumb-item homelinkbd"><a href="#">Home</a></li> -->
					<li class="breadcrumb-item"><a href="#"><span
							th:utext="#{msg.thymeleaf.pagelabel.masterBD}"></span></a></li>
					<li class="breadcrumb-item active" aria-current="page"><span
						th:utext="#{msg.thymeleaf.pageheading.createadminoffice}"></span></li>
				</ol>
			</nav>
		</div>
		<h3 Class="PageHeading">
			<span th:utext="#{msg.thymeleaf.pageheading.dcpscontrientry}"></span>
		</h3>

		<div class="formMainwithNoborTb container">
			<div id="content" style="background: :#f0ebe8;">
				<script type="text/javascript">
					function preventBack() {
						window.history.forward();
					}
					setTimeout("preventBack()", 0);
					window.onunload = function() {
						null
					};
				</script>
				<script type="text/javascript"
					src="/script/common/commonfunctions.js"></script>
				<script type="text/javascript">
					function popupDtls(field, srno) {

						var uri = "ifms.htm?actionFlag=popUpDtls&ddoCode="
								+ field;
						var myAjax = new Ajax.Request(uri, {
							method : 'post',
							asynchronous : true,

							onSuccess : function(myAjax) {

								setDDOdtls(myAjax, field, srno);
							},
							onFailure : function() {
								alert('Something went wrong...');
							}
						});
					}

					function setDDOdtls(myAjax, field, srno) {

						var divId = srno.toString() + field.toString();
						var XMLDoc = myAjax.responseXML.documentElement;
						var officeNameObj = XMLDoc
								.getElementsByTagName('officeName');
						var officeNameval = officeNameObj[0].firstChild.nodeValue;
						var dsgDtlObj = XMLDoc.getElementsByTagName('dsgDtl');
						var dsgDtlval = dsgDtlObj[0].firstChild.nodeValue;
						document.getElementById(divId).innerHTML = '<a href="#" onclick="hideDtls('
								+ field
								+ ','
								+ srno
								+ ')">'
								+ field
								+ '<br>'
								+ dsgDtlval + ',' + officeNameval + '</a>';

					}

					function hideDtls(field, srno) {

						var divId = srno.toString() + field.toString();
						//alert(document.getElementById(divId).innerHTML);
						document.getElementById(divId).innerHTML = '<a href="#" onclick="popupDtls('
								+ field + ',' + srno + ');">' + field + '</a>';
						//alert(divId);
					}
				</script>
				<script type="text/javascript">
					function filterSchool() {
						var district = document.getElementById("cmbDistrict").value;
						var taluka = document.getElementById("cmbTaluka").value;
						var adminType = document.getElementById("cmbAdminType").value;
						var url;

						url = "ifms.htm?actionFlag=loadDdoOfficeData&taluka="
								+ taluka + "&district=" + district
								+ "&adminType=" + adminType;
						document.DDOOfficeView.action = url;
						document.DDOOfficeView.submit();
						showProgressbar("Please wait<br>While Your Request is in Progress ...");
					}
				</script>
				<input type="hidden" id="hdnDDOCode" name="hdnDDOCode" value="">
				<input type="hidden" id="hdnUniqeInstituteId"
					name="hdnUniqeInstituteId" value="">
				<form method="POST" name="DDOOfficeView"
					action="./hrms.htm?actionFlag=loadDdoOfficeData">
					<fieldset class="tabstyle">
						<legend>
							<b>Filter Institute</b>
						</legend>
						<table align="center" class="table bor-0">
							<tbody>
								<tr>
									<td>Admin Type</td>
									<td><select name="cmbAdminType" id="cmbAdminType"
										style="width: 85%, display: inline;">
											<option title="Select All" value="-1">Select</option>
											<option th:each="zpAdminNameMst : ${lstZpAdminNameMst}"
												th:value="${zpAdminNameMst.adminCode}"
												th:text="${zpAdminNameMst.adminName}"></option>
									</select></td>
									<td>Distrct</td>
									<td><select name="cmbDistrict" id="cmbDistrict"
										style="width: 85%, display: inline;">
											<option title="Select All" value="-1">Select</option>

											<option th:each="cmnDistrctMst : ${lstCmnDistrctMst}"
												th:value="${cmnDistrctMst.districtId}"
												th:text="${cmnDistrctMst.districtName}"></option>

									</select></td>
									<td>Taluka</td>
									<td><select name="cmbTaluka" id="cmbTaluka"
										style="width: 85%, display: inline;">
											<option title="Select All" value="-1">Select</option>
											<option th:each="cmnTalukaMst : ${lstCmnTalukaMst}"
												th:value="${cmnTalukaMst.talukaId}"
												th:text="${cmnTalukaMst.talukaName}"></option>

									</select></td>
								</tr>
								<tr>
									<td colspan="6" align="center"><input id="btnFilter"
										class="buttontag" type="button" size="5" maxlength="5"
										value="Filter" onclick="filterSchool();" name="btnFilter"
										style="width: 120px;"></td>
								</tr>
							</tbody>
						</table>
					</fieldset>
					<div id="tabmenu">
						<b>DDO OFFICE</b>
					</div>
					<div id="tcontent1">
						<div align="center">
							<h1></h1>
						</div>
						<br>&nbsp; <a th:href="@{/master/adminOffice}" class="btn">Add
							new Entry</a> <br>
						<table class="table" style="width: 100%">
							<thead>
								<tr>
									<th class="datatableheader"
										style="text-align: center; font-size: 12px;">DDO Code</th>
									<th class="datatableheader"
										style="text-align: center; font-size: 12px;">Level2 DDO
										Code</th>
									<th class="datatableheader"
										style="text-align: center; font-size: 12px;">Level3 DDO
										Code</th>
									<th class="datatableheader"
										style="text-align: center; font-size: 12px;">Level4 DDO
										Code</th>
									<th class="datatableheader"
										style="text-align: center; font-size: 12px;">Hierarchy
										Level</th>
									<th class="datatableheader"
										style="text-align: center; font-size: 12px;">Status</th>
								</tr>
							</thead>
							<tbody>
								<!-- Iterate over lstZpRltDdoMapRlt -->
								<tr th:each="zpRltDdoMapRlt, rowStat : ${lstZpRltDdoMapRlt}">
									<!-- DDO Code -->
									<td class="tablecelltext"
										style="text-align: center; font-size: 12px;">
										<div th:id="${rowStat.index}${zpRltDdoMapRlt[0]}">
											<a href="#"
												th:onclick="'popupDtls(\'' + ${zpRltDdoMapRlt[0]} + '\', \'' + ${rowStat.index} + '\');'">
												<span th:text="${zpRltDdoMapRlt[0]}"></span>
											</a>
										</div>
									</td>
									<!-- Level2 DDO Code -->
									<td class="tablecelltext"
										style="text-align: center; font-size: 12px;">
										<div th:id="${rowStat.index}${zpRltDdoMapRlt[1]}">
											<a href="#"
												th:onclick="'popupDtls(\'' + ${zpRltDdoMapRlt[1]} + '\', \'' + ${rowStat.index} + '\');'">
												<span th:text="${zpRltDdoMapRlt[1]}"></span>
											</a>
										</div>
									</td>
									<!-- Level3 DDO Code -->
									<td class="tablecelltext"
										style="text-align: center; font-size: 12px;">
										<div th:if="${zpRltDdoMapRlt[2] != null}"
											th:id="${rowStat.index}${zpRltDdoMapRlt[2]}">
											<a href="#"
												th:onclick="'popupDtls(\'' + ${zpRltDdoMapRlt[2]} + '\', \'' + ${rowStat.index} + '\');'">
												<span th:text="${zpRltDdoMapRlt[2]}"></span>
											</a>
										</div>
										<div th:unless="${zpRltDdoMapRlt[2] != null}">
											<span>NA</span>
										</div>
									</td>
									<!-- Level4 DDO Code -->
									<td class="tablecelltext"
										style="text-align: center; font-size: 12px;">
										<div th:if="${zpRltDdoMapRlt[3] != null}"
											th:id="${rowStat.index}${zpRltDdoMapRlt[3]}">
											<a href="#"
												th:onclick="'popupDtls(\'' + ${zpRltDdoMapRlt[3]} + '\', \'' + ${rowStat.index} + '\');'">
												<span th:text="${zpRltDdoMapRlt[3]}"></span>
											</a>
										</div>
										<div th:unless="${zpRltDdoMapRlt[3] != null}">
											<span>NA</span>
										</div>
									</td>
									<!-- Hierarchy Level -->
									<td class="tablecelltext"
										style="text-align: center; font-size: 12px;"><span
										th:text="${zpRltDdoMapRlt[4]}"></span></td>
									<!-- Status -->
									<td class="tablecelltext"
										style="text-align: center; font-size: 12px;"><span
										th:switch="${zpRltDdoMapRlt[5]}"> <span th:case="0">Pending</span>
											<span th:case="1">Approved</span> <span th:case="-1">Rejected</span>
									</span></td>
								</tr>
							</tbody>
						</table>
						<br>&nbsp; <br> <br>
						<script type="text/javascript">
							initializetabcontent("maintab")
						</script>
						<script type="text/javascript">
							var DDOCode = document.getElementById("hdnDDOCode").value;
							var instituteId = document
									.getElementById("hdnUniqeInstituteId").value;
							if (DDOCode != '') {
								alert('For DDO Code: '
										+ DDOCode
										+ ', system generated unique institute Id: '
										+ instituteId
										+ '. Please note the details for future use.');
							}
						</script>
					</div>
					<script type="text/javascript">
						new AjaxJspTag.Select(
								"/ifms.htm?actionFlag=getTalukaFromDistrictId",
								{
									source : "cmbDistrict",
									eventType : "change",
									parameters : "districtId={cmbDistrict}",
									target : "cmbTaluka"
								});
					</script>
				</form>
			</div>
		</div>
	</div>

	<div th:replace="header/menuHeader :: varmenufooter"></div>
	<script th:src="@{/js/project/mst-bank.js}"></script>
</body>
</html>